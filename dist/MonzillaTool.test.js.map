{"version":3,"sources":["../src/MonzillaTool.test.js"],"names":["container","beforeEach","toolName","log","info","jest","fn","warning","error","info2","error2","warning2","getOutput","calls","mock","length","test","tool","MonzillaTool","exitCode","run","expect","toBe","toEqual","stringContaining","stringMatching"],"mappings":";;AAAA;;AAEA,IAAIA,SAAS,GAAG,IAAhB;AAEAC,UAAU,CAAC,MAAM;AACfD,EAAAA,SAAS,GAAG;AACVE,IAAAA,QAAQ,EAAE,UADA;AAEVC,IAAAA,GAAG,EAAE;AACHC,MAAAA,IAAI,EAAEC,IAAI,CAACC,EAAL,EADH;AAEHC,MAAAA,OAAO,EAAEF,IAAI,CAACC,EAAL,EAFN;AAGHE,MAAAA,KAAK,EAAEH,IAAI,CAACC,EAAL,EAHJ;AAIHG,MAAAA,KAAK,EAAEJ,IAAI,CAACC,EAAL,EAJJ;AAKHI,MAAAA,MAAM,EAAEL,IAAI,CAACC,EAAL,EALL;AAMHK,MAAAA,QAAQ,EAAEN,IAAI,CAACC,EAAL;AANP;AAFK,GAAZ;AAWD,CAZS,CAAV;;AAcA,MAAMM,SAAS,GAAIN,EAAD,IAAQ;AACxB,QAAMO,KAAK,GAAGP,EAAE,CAACQ,IAAH,CAAQD,KAAtB;AAEA,SAAOA,KAAK,CAACE,MAAN,GAAe,CAAf,IAAoBF,KAAK,CAAC,CAAD,CAAL,CAASE,MAAT,GAAkB,CAAtC,GAA0CF,KAAK,CAAC,CAAD,CAAL,CAAS,CAAT,CAA1C,GAAwD,EAA/D;AACD,CAJD;;AAMAG,IAAI,CAAC,QAAD,EAAW,YAAY;AACzB,QAAMC,IAAI,GAAG,IAAIC,0BAAJ,CAAiBlB,SAAjB,CAAb;AACA,QAAMmB,QAAQ,GAAG,MAAMF,IAAI,CAACG,GAAL,CAAS,CAAC,QAAD,CAAT,CAAvB;AAEAC,EAAAA,MAAM,CAACF,QAAD,CAAN,CAAiBG,IAAjB,CAAsB,CAAtB;AACAD,EAAAA,MAAM,CAACT,SAAS,CAACZ,SAAS,CAACG,GAAV,CAAcC,IAAf,CAAV,CAAN,CAAsCmB,OAAtC,CACEF,MAAM,CAACG,gBAAP,CAAwB,QAAxB,CADF;AAGD,CARG,CAAJ;AAUAR,IAAI,CAAC,WAAD,EAAc,YAAY;AAC5B,QAAMC,IAAI,GAAG,IAAIC,0BAAJ,CAAiBlB,SAAjB,CAAb;AACA,QAAMmB,QAAQ,GAAG,MAAMF,IAAI,CAACG,GAAL,CAAS,CAAC,WAAD,CAAT,CAAvB;AAEAC,EAAAA,MAAM,CAACF,QAAD,CAAN,CAAiBG,IAAjB,CAAsB,CAAtB;AACAD,EAAAA,MAAM,CAACT,SAAS,CAACZ,SAAS,CAACG,GAAV,CAAcC,IAAf,CAAV,CAAN,CAAsCmB,OAAtC,CACEF,MAAM,CAACI,cAAP,CAAsB,YAAtB,CADF;AAGD,CARG,CAAJ;AAUAT,IAAI,CAAC,SAAD,EAAY,YAAY;AAC1B,QAAMC,IAAI,GAAG,IAAIC,0BAAJ,CAAiBlB,SAAjB,CAAb;AACA,QAAMmB,QAAQ,GAAG,MAAMF,IAAI,CAACG,GAAL,CAAS,EAAT,CAAvB;AAEAC,EAAAA,MAAM,CAACF,QAAD,CAAN,CAAiBG,IAAjB,CAAsB,CAAC,CAAvB;AACD,CALG,CAAJ","sourcesContent":["import { MonzillaTool } from \"./MonzillaTool\"\n\nlet container = null\n\nbeforeEach(() => {\n  container = {\n    toolName: \"monzilla\",\n    log: {\n      info: jest.fn(),\n      warning: jest.fn(),\n      error: jest.fn(),\n      info2: jest.fn(),\n      error2: jest.fn(),\n      warning2: jest.fn(),\n    },\n  }\n})\n\nconst getOutput = (fn) => {\n  const calls = fn.mock.calls\n\n  return calls.length > 0 && calls[0].length > 0 ? calls[0][0] : \"\"\n}\n\ntest(\"--help\", async () => {\n  const tool = new MonzillaTool(container)\n  const exitCode = await tool.run([\"--help\"])\n\n  expect(exitCode).toBe(0)\n  expect(getOutput(container.log.info)).toEqual(\n    expect.stringContaining(\"--help\")\n  )\n})\n\ntest(\"--version\", async () => {\n  const tool = new MonzillaTool(container)\n  const exitCode = await tool.run([\"--version\"])\n\n  expect(exitCode).toBe(0)\n  expect(getOutput(container.log.info)).toEqual(\n    expect.stringMatching(/\\d\\.\\d\\.\\d/)\n  )\n})\n\ntest(\"no args\", async () => {\n  const tool = new MonzillaTool(container)\n  const exitCode = await tool.run([])\n\n  expect(exitCode).toBe(-1)\n})\n"],"file":"MonzillaTool.test.js"}